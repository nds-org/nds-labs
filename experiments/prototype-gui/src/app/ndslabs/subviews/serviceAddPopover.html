<section>
    <!-- List all dependencies, invert keys/values, filter by only optional dependencies, and show only missing entries -->
    <div ng-repeat="option in _.invertBy(_.find(stacks, 'key').dependencies)[false]"
         ng-if="!_.find(stack.services, { serviceId: option })">
        <button class="btn btn-xs btn-success" ng-click="addStackSvc(stack, option)">
            <i class="fa fa-fw fa-plus"></i>
        </button>&nbsp;&nbsp;{{ option }}
    </div>
</section>